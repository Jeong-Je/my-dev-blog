---
title: Next.js13ê³¼ Contentlayerì„ ì´ìš©í•´ì„œ ê°œì¸ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°
date: 2023-08-30
tags:
- Next.js
description: Next.js13ê³¼ Contentlayerì„ ì´ìš©í•˜ì—¬ ë¸”ë¡œê·¸ ë§Œë“œëŠ” ë²•ì„ ì •ë¦¬í•œ í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤.
---

Next.js13ê³¼ Contentlayerì„ ì´ìš©í•˜ì—¬ ê°œì¸ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.
Next.jsë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ê°œì¸ ë¸”ë¡œê·¸ëŠ” ì •ì  ì»¨í…ì¸ ì´ê¸°ì— Next.jsì˜ 
[SSG](https://nextjs.org/docs/pages/building-your-application/rendering/static-site-generation)ë¥¼ ì‚¬ìš©í•˜ë©´
í˜ì´ì§€ ë¡œë”©ì†ë„ê°€ ë¹¨ë¼ì§‘ë‹ˆë‹¤. ë˜í•œ Next.jsëŠ” í’€ìŠ¤íƒ í”„ë ˆì„ì›Œí¬ë¡œì„œ 
[SSR](https://nextjs.org/docs/pages/building-your-application/rendering/server-side-rendering)
ê³¼ ë¦¬ì•¡íŠ¸ ê¸°ë°˜ì˜ [CSR](https://nextjs.org/docs/pages/building-your-application/rendering/client-side-rendering)ì„ ëª¨ë‘ ì§€ì›í•˜ë¯€ë¡œ
ê°œë°œì˜ ìƒì‚°ì„±ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

***

## ì‹œì‘
Next.jsì—ì„œëŠ” í”„ë¡œì íŠ¸ë¥¼ create-next-appì„ ì´ìš©í•˜ì—¬ ìƒì„±í•  ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤. í•„ìš”í•œ íŒŒì¼ë“¤ì„ ìë™ìœ¼ë¡œ
ì„¤ì¹˜í•´ì£¼ê¸°ì— ì›¬ë§Œí•´ì„  ì•ˆì“¸ ì´ìœ ê°€ ì—†ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. í„°ë¯¸ë„ ì°½ì— 
```
npx create-next-app
```

ì„ ì…ë ¥í•˜ì—¬ Next.js í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•´ì¤ë‹ˆë‹¤.
![Imgur](https://i.imgur.com/sZV9QnD.png)
ê¸°ë³¸ ì„¤ì • ê°’ì„ ë¬¼ì–´ë³´ëŠ”ë° ì €ëŠ” ê¸°ë³¸ ê°’ìœ¼ë¡œ í–ˆìŠµë‹ˆë‹¤. ([tailwindcss](https://tailwindcss.com/)ëŠ” ê°•ì¶”ğŸ‘)

## Contentlayer

Next.js ê³µì‹ë¬¸ì„œì—ì„œëŠ” MDXíŒŒì¼ ë‹¤ë£¨ëŠ” ë²•ìœ¼ë¡œ `next-mdx-remote`ì™€ `contentlayer` ë‘ ê°€ì§€ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.
ì €ëŠ” ê·¸ ì¤‘ì—ì„œ contentlayerë¥¼ íƒí–ˆìŠµë‹ˆë‹¤.

```
npm i contentlayer next-contentlayer
```
Contentlayer ì„¤ì¹˜ê°€ ë‹¤ ë˜ì—ˆìœ¼ë©´ next.config.js íŒŒì¼ì— ê°€ì…”ì„œ ë‹¤ìŒ ì½”ë“œë¥¼ ë„£ì–´ì¤ë‹ˆë‹¤.
```js
// next.config.js
const { withContentlayer } = require('next-contentlayer')

/** @type {import('next').NextConfig} */
const nextConfig = { reactStrictMode: true, swcMinify: true }

module.exports = withContentlayer(nextConfig)
```
ê·¸ë¦¬ê³  í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ì— `contentlayer.config.ts`ë¼ëŠ” íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ì•„ë˜ ì½”ë“œë¥¼ ì…ë ¥í•´ì¤ë‹ˆë‹¤.
```js
//contentlayer.config.ts
import { defineDocumentType, makeSource } from "contentlayer/source-files";

const Post = defineDocumentType(() => ({
  name: "Post",
  filePathPattern: `**/*.mdx`,
  contentType: "mdx",
  fields: {
    title: {
      type: "string",
      description: "The title of the post",
      required: true,
    },
    date: {
      type: "date",
      description: "The date of the post",
      required: true,
    },
  },
  computedFields: {
    url: {
      type: "string",
      resolve: (doc) => `/posts/${doc._raw.flattenedPath}`,
    },
  },
}));

export default makeSource({
  contentDirPath: "posts",
  documentTypes: [Post],
});
```
ì´ì œ MDX íŒŒì¼ì„ ë§Œë“¤ì–´ ë´…ì‹œë‹¤. í”„ë¡œì íŠ¸ì˜ ë£¨íŠ¸ì— `posts` í´ë”ë¥¼ ë§Œë“  í›„ ì•ˆì— `test-01.mdx`íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤.

```
---
title: "How to create Next.js app"
date: 2023-04-06
---

# Install Next.js

### Fist you need to install Next.js with the following command:

npm i create-next-app@latest
```
ì—¬ê¸°ê¹Œì§€ ì˜¤ì‹  ë‹¤ìŒ `npm run dev`ë¡œ ì„œë²„ë¥¼ ì—½ë‹ˆë‹¤. ì½˜ì†”ì°½ì— ì•„ë˜ì™€ ê°™ì´ `.contentlayer` í´ë”ì—
1ê°œì˜ ë¬¸ì„œê°€ ìƒì„±ë˜ì—ˆë‹¤ëŠ” ë¬¸êµ¬ê°€ ë‚˜ì˜¤ë©´ ì„±ê³µì…ë‹ˆë‹¤.

```
- event compiled client and server successfully in 1284 ms (20 modules)
Generated 1 documents in .contentlayer
- wait compiling...
- event compiled client and server successfully in 85 ms (20 modules)
```
![Imgur](https://imgur.com/xCUFUzb.png)

ì•„ë˜ì™€ ê°™ì´ `.contentlayer` í´ë”ì— ì œê°€ ë§Œë“  `test-01.mdx`íŒŒì¼ì´ json í˜•íƒœë¡œ ì €ì¥ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.